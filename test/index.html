<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css" />
    <title>Expense Tracker</title>
  </head>
  <body>
    <h2>Expense Tracker</h2>

    <div class="container">
      <h4>Your Balance</h4>
      <h1 id="balance">$0.00</h1>

      <div class="inc-exp-container">
        <div>
          <h4>Income</h4>
          <p id="money-plus" class="money plus">+$0.00</p>
        </div>
        <div>
          <h4>Expense</h4>
          <p id="money-minus" class="money minus">-$0.00</p>
        </div>
      </div>

      <h3>History</h3>
      <ul id="list" class="list" name="historyy">
        <!-- <li class="minus">
          Cash <span>-$400</span><button class="delete-btn">x</button>
        </li> -->
      </ul>

      <h3>Add new transaction</h3>

        <div class="form-control">
          <label for="text">Text</label>
          <input type="text" id="text" placeholder="Enter text..." />
        </div>
        <div class="form-control">
          <label for="amount"
            >Amount <br />
            (negative - expense, positive - income)</label
          >
          <input type="number" id="amount" placeholder="Enter amount..." />
        </div>
        <button class="btn" onclick="addValue()">Add transaction</button>
 
    </div>
<script>

var values = {};
var money = []
let k=0
var addmoney = 0;
var minusmoney = 0;
let val=0;
function addValue()
{
  var b;
  let l = Object.keys(values).length;
  if(l==0 || l>0){
    document.getElementById('balance').innerHTML = 0;
  }
    var txt = document.getElementById('text').value;
    var amount = document.getElementById('amount').value;
    if(amount>0)
    {
      
      addmoney=parseFloat(addmoney)+parseFloat(amount);
      document.getElementById('money-plus').innerHTML  = '+$'+addmoney;
    val  = parseFloat(document.getElementById('balance').innerHTML) + addmoney;
    
      
    }
    if(amount<0){
     minusmoney=parseFloat(minusmoney)-amount;
      document.getElementById('money-minus').innerHTML = '-$'+minusmoney;
      val = parseFloat(document.getElementById('balance').innerHTML) - minusmoney;
     

    }
    money.push(amount);
    document.getElementById('balance').innerHTML = '$'+val;
    values[k] = {"text":txt,"amt":amount};
    k= k+1;
    display();
    
}

function display(){
  let l = Object.keys(values).length;
  let row = '';
    for(let i=0;i<l;i++)
    {
      row += '<li class="minus"><span>'+
              values[Object.keys(values)[i]].text +'</span><span>'+
              values[Object.keys(values)[i]].amt+
              '</span><button onclick="del()" class="delete-btn">x</button></li>';
    }
    document.getElementById('list').innerHTML = row;
}
function del()
{
  var d = this.previousElementSibling.text;
  alert(d);
  let l =money.length;
  for(let i=0;i<l;i++)
  {
    if(money[i] == d)
    {
      money.slice(i,1);
      display();
    }
  }
  
}
    </script>
  </body>
</html>